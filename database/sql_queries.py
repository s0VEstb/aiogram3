CREATE_USER_TABLE_QUERY = """
CREATE TABLE IF NOT EXISTS telegram_users (
ID integer primary key,
TELEGRAM_ID INTEGER,
USERNAME CHAR(50),
FIRST_NAME CHAR(50),
LAST_NAME CHAR(50),
UNIQUE (TELEGRAM_ID)
)"""


ALTER_TABLE_USER_QUERY_V1 = """
ALTER TABLE telegram_users ADD COLUMN REFERENCE_LINK TEXT
"""


ALTER_TABLE_USER_QUERY_V2 = """
ALTER TABLE telegram_users ADD COLUMN BALANCE TEXT
"""


INSERT_USER_QUERY = """
INSERT INTO telegram_users VALUES (?,?,?,?,?,?,?)
"""


SELECT_ALL_USERS_QUERY = """
SELECT FIRST_NAME FROM telegram_users
"""


CREATE_PROFILE_TABLE_QUERY = """
CREATE TABLE IF NOT EXISTS profiles (
ID integer primary key,
TELEGRAM_ID INTEGER,
NICKNAME CHAR(50),
BIO TEXT,
IS_MARRIED CHAR(50),
MALE CHAR(50),
PHOTO TEXT,
UNIQUE (TELEGRAM_ID)
)"""


INSERT_PROFILE_QUERY = """
INSERT INTO profiles VALUES (?,?,?,?,?,?,?)
"""


SELECT_ALL_PROFILES_QUERY = """
SELECT * FROM profiles p
WHERE p.TELEGRAM_ID NOT IN (
    SELECT ld.OWNER_ID
    FROM like_dislike ld
    WHERE ld.LIKER_ID = ?
    AND ld.STATUS IS NOT NULL 
)
AND p.TELEGRAM_ID != ?
"""


CREATE_LIKE_DISLIKE_TABLE_QUERY = """
CREATE TABLE IF NOT EXISTS like_dislike (
ID integer primary key,
OWNER_ID INTEGER,
LIKER_ID INTEGER,
STATUS INTEGER,
UNIQUE (OWNER_ID, LIKER_ID)
)"""

CREATE_REFERENCE_TABLE_QUERY = """
CREATE TABLE IF NOT EXISTS reference_table (
ID integer primary key,
OWNER_TELEGRAM_ID INTEGER,
REFERENCE_TELEGRAM_ID INTEGER,
UNIQUE (OWNER_TELEGRAM_ID, REFERENCE_TELEGRAM_ID)
)"""


SELECT_ALL_REFERENCES_QUERY = """
SELECT * FROM reference_table WHERE OWNER_TELEGRAM_ID = ?
"""


SELECT_REFERENCE_FIRSTNAME_QUERY = """
SELECT FIRST_NAME FROM telegram_users WHERE TELEGRAM_ID = ?
"""



INSERT_REFERENCE_TABLE_QUERY = """
INSERT INTO reference_table VALUES (?,?,?)
"""


INSERT_LIKE_QUERY = """
INSERT INTO like_dislike VALUES (?,?,?,?)
"""


SELECT_ONE_PROFILE_QUERY = """
SELECT * FROM profiles WHERE TELEGRAM_ID = ?
"""


UPDATE_PROFILE_QUERY = """
UPDATE profiles SET NICKNAME = ?, BIO = ?, IS_MARRIED = ?, MALE = ?, PHOTO = ? WHERE TELEGRAM_ID = ?
"""


DELETE_PROFILE_QUERY = """
DELETE  FROM profiles WHERE TELEGRAM_ID = ?
"""


SELECT_ALL_ALL_USERS_QUERY = """
SELECT * FROM telegram_users WHERE TELEGRAM_ID = ?
"""


UPDATE_USER_LINK_QUERY = """
UPDATE telegram_users SET REFERENCE_LINK = ? WHERE TELEGRAM_ID = ?
"""


UPDATE_USER_BALANCE_QUERY = """
UPDATE telegram_users SET BALANCE = COALESCE(BALANCE, 0) + 100 WHERE TELEGRAM_ID = ?
"""


SELECT_REFERENCE_LINK_QUERY = """
SELECT * FROM telegram_users WHERE REFERENCE_LINK = ?
"""



